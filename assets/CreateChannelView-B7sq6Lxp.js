import{s as d,u,p as s,ah as _,E as f,m as h,af as g}from"./ProvideEventLine-DRQ1icxU.js";import{_ as y}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang-Dheh0hXh.js";import{f as C,S as L,L as v,o as S,m as w,w as m,n as p,q as M,y as b,z as E}from"./index-DRg9t0Vr.js";import{b as N}from"./Button-RSSq7IbU.js";import{_ as k}from"./Space-CgiHl0CL.js";import"./utils-D8FBasE8.js";import"./UploadInput.vue_vue_type_script_setup_true_lang-DXT6AVe3.js";import"./UploadButton.vue_vue_type_script_setup_true_lang-DviwWVZi.js";import"./is-browser-C7FjNdJS.js";import"./Icon-C9AnYpbf.js";import"./Add-Bii0zypz.js";import"./use-rtl-BRm_4Zal.js";import"./format-length-B-p6aW7q.js";import"./Warning-DxYTaOLd.js";import"./replaceable-B51zvF1M.js";import"./use-css-vars-class-CabheA3r.js";import"./Image-rdxt60Qo.js";import"./utils-BVc1TVEx.js";import"./Scrollbar-TYg6DoVg.js";import"./fade-in-scale-up.cssr-DH-cmeRU.js";import"./use-locale-B5wGZu3n.js";import"./Follower-H7YavmAT.js";import"./Tooltip-D1haiN8Z.js";import"./Popover-CtULJZFf.js";import"./use-compitable-CGiJHCrD.js";import"./download-sglA049O.js";import"./Input-csQmIHyV.js";import"./index-vZmvdULR.js";import"./fade-in-height-expand.cssr-DaYYOhDD.js";import"./Icon-LStOBi_t.js";import"./get-slot-Bk_rJcZu.js";const st=C({__name:"CreateChannelView",setup(x){const a=L(),c=d();let n=u(s.ListSynchronizerManager.Staff,_);const i=v({});async function l(){if(!i.value.name){a.warning("请输入channelName");return}const t=n.createChild().add(f,h,g);let e=await t.createEvent({kind:40,content:JSON.stringify(i.value)});t.addPublish(e,{onOK:c}),t.initedAddWrite();let r=(await n.relayConfigurator.initedGetReadList()).values().next().value;e?(n.listSynchronizerManager.getInitStandardListSynchronizer(s.ListEnum.PublicChats).add({type:"e",id:e.id,relay:r}),a.success("创建成功")):a.warning("没有创建成功")}return(t,e)=>{const o=N,r=k;return S(),w(r,{vertical:""},{default:m(()=>[p(y,{channelMetadata:M(i)},null,8,["channelMetadata"]),p(o,{onClick:l},{default:m(()=>[b(E(t.t("create")),1)]),_:1})]),_:1})}}});export{st as default};
