import{u as B,b as H,c as A,e as R}from"./ProvideEventLine-DRQ1icxU.js";import{_ as U}from"./LoginCard.vue_vue_type_script_setup_true_lang--wB5KbhW.js";import{u as q,b as D}from"./LoginCompleteHook-BF4wjkV1.js";import{_ as S}from"./TestNostrApi.vue_vue_type_script_setup_true_lang-BMJxtLcx.js";import{_ as T}from"./Tooltip.vue_vue_type_script_setup_true_lang-B1E63Q7c.js";import{C as z}from"./Copy16Filled-4KD1dlk2.js";import{u as E}from"./naiveUi-u5cb5fov.js";import{f as F,L as I,W as O,V as P,X as W,o as f,m as k,w as e,r as u,n as r,q as n,U as v,A as X,y,z as g}from"./index-DRg9t0Vr.js";import{N as j}from"./Icon-LStOBi_t.js";import{_ as G}from"./Input-csQmIHyV.js";import{_ as J}from"./Alert-B3ZGlUEW.js";import{_ as K}from"./Checkbox-Cb6AThUd.js";import{_ as M}from"./Space-CgiHl0CL.js";import"./utils-D8FBasE8.js";import"./Favicon-DqUUdsK9.js";import"./Scrollbar-Bjg8cg-Q.js";import"./ReloadCircleSharp-BPiqvBhR.js";import"./Scrollbar-Bclqk6XR.js";import"./Scrollbar-TYg6DoVg.js";import"./use-rtl-BRm_4Zal.js";import"./use-css-vars-class-CabheA3r.js";import"./Card-D9NjhPLr.js";import"./index-vZmvdULR.js";import"./Button-RSSq7IbU.js";import"./is-browser-C7FjNdJS.js";import"./Close-C6q5V2VM.js";import"./Icon-C9AnYpbf.js";import"./Close-BDVmWyvI.js";import"./replaceable-B51zvF1M.js";import"./keysOf-HiGXOwLp.js";import"./Tooltip-D1haiN8Z.js";import"./Popover-CtULJZFf.js";import"./Follower-H7YavmAT.js";import"./format-length-B-p6aW7q.js";import"./use-compitable-CGiJHCrD.js";import"./composables-z3_xbv7_.js";import"./use-locale-B5wGZu3n.js";import"./fade-in-height-expand.cssr-DaYYOhDD.js";import"./Warning-DxYTaOLd.js";import"./get-slot-Bk_rJcZu.js";const zt=F({__name:"LoginCompleteView",setup(Q){let _=B(R,A);const C=E(),s=H(async()=>{var o;return(o=await _.getPrikeyOrNull())==null?void 0:o.getNsec()});function h(){s.value&&C(s.value)}const a=I(),c=O(),w=P(),i=q(),d=W();i==null||i.setHook(async()=>{const o=w.query.redirected;d.start(),setTimeout(()=>{if(!o){c.push({name:"article",params:{value:t("help_article")}});return}c.push(o)},2e3)});const m=D();async function b(){d.start(),await(m==null?void 0:m.runHook())}return(o,p)=>{const N=j,L=G,$=J,V=K,x=M;return f(),k(U,null,{header:e(()=>[u(o.$slots,"default")]),default:e(()=>[r(x,{class:"mt-6",vertical:""},{default:e(()=>[n(s)?(f(),k(L,{key:0,placeholder:"",value:n(s),"onUpdate:value":p[0]||(p[0]=l=>v(s)?s.value=l:null),type:"password","show-password-on":"click"},{suffix:e(()=>[r(N,{class:"px-2",onClick:h},{default:e(()=>[r(z,{class:"hover:text-[#2ed573]"})]),_:1})]),_:1},8,["value"])):X("",!0),r($,{class:"mt-2",title:o.t("note"),type:"warning"},{default:e(()=>[y(g(o.t("keep_private_key_prompt")),1)]),_:1},8,["title"]),r(S,{nostr:n(_).nostrApi},null,8,["nostr"]),r(V,{class:"mt-2",checked:n(a),"onUpdate:checked":p[1]||(p[1]=l=>v(a)?a.value=l:null)},{default:e(()=>[y(g(o.t("i_have_saved_my_private_key_properly")),1)]),_:1},8,["checked"]),u(o.$slots,"prev-step"),r(T,{tooltip:o.t("tick_prompt")},{default:e(()=>[u(o.$slots,"next-step",{next:b,disabled:!n(a)})]),_:3},8,["tooltip"])]),_:3})]),_:3})}}});export{zt as default};
